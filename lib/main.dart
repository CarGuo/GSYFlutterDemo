import 'package:flutter/material.dart';
import 'package:gsy_flutter_demo/widget/anim_bubble_gum.dart'
    deferred as anim_bubble_gum;
import 'package:gsy_flutter_demo/widget/anim_button/anim_button_demo_page.dart'
    deferred as anim_button_demo_page;
import 'package:gsy_flutter_demo/widget/anim_progress_img_demo_page.dart'
    deferred as anim_progress_img_demo_page;
import 'package:gsy_flutter_demo/widget/anim_scan_demo_page.dart'
    deferred as anim_scan_demo_page;
import 'package:gsy_flutter_demo/widget/anim_text_demo_page.dart'
    deferred as anim_text_demo_page;
import 'package:gsy_flutter_demo/widget/arc_seek_bar_demo_page.dart'
    deferred as arc_seek_bar_demo_page;
import 'package:gsy_flutter_demo/widget/bottom_anim_nav_page.dart'
    deferred as bottom_anim_nav_page;
import 'package:gsy_flutter_demo/widget/canvas_click_demo_page.dart'
    deferred as canvas_click_demo_page;
import 'package:gsy_flutter_demo/widget/chat_list_scroll_demo_page.dart'
    deferred as chat_list_scroll_demo_page;
import 'package:gsy_flutter_demo/widget/chat_list_scroll_demo_page_2.dart'
    deferred as chat_list_scroll_demo_page_2;
import 'package:gsy_flutter_demo/widget/color_progress_demo_page.dart'
    deferred as color_progress_demo_page;
import 'package:gsy_flutter_demo/widget/drag_img_demo_page.dart'
    deferred as drag_img_demo_page;
import 'package:gsy_flutter_demo/widget/gradient_text_demo_page.dart'
    deferred as gradient_text_demo_page;
import 'package:gsy_flutter_demo/widget/index_stack_drag_card_demo_page.dart'
    deferred as index_stack_drag_card_demo_page;
import 'package:gsy_flutter_demo/widget/index_stack_drag_card_demo_page2.dart'
    deferred as index_stack_drag_card_demo_page2;
import 'package:gsy_flutter_demo/widget/link_sliver/link_sliver_demo_page.dart'
    deferred as link_sliver_demo_page;
import 'package:gsy_flutter_demo/widget/rich_text_demo_page2.dart'
    deferred as rich_text_demo_page2;
import 'package:gsy_flutter_demo/widget/route_demo_page.dart'
    deferred as route_demo_page;
import 'package:gsy_flutter_demo/widget/scroll_inner_content_demo_page.dart'
    deferred as scroll_inner_content_demo_page;
import 'package:gsy_flutter_demo/widget/align_demo_page.dart'
    deferred as align_demo_page;
import 'package:gsy_flutter_demo/widget/anim_bg_demo_page.dart'
    deferred as anim_bg_demo_page;
import 'package:gsy_flutter_demo/widget/anim_tip_demo_page.dart'
    deferred as anim_tip_demo_page;
import 'package:gsy_flutter_demo/widget/anima_demo_page.dart'
    deferred as anima_demo_page;
import 'package:gsy_flutter_demo/widget/anima_demo_page2.dart'
    deferred as anima_demo_page2;
import 'package:gsy_flutter_demo/widget/anima_demo_page4.dart'
    deferred as anima_demo_page4;
import 'package:gsy_flutter_demo/widget/anima_demo_page5.dart'
    deferred as anima_demo_page5;
import 'package:gsy_flutter_demo/widget/animation_container_demo_page.dart'
    deferred as animation_container_demo_page;
import 'package:gsy_flutter_demo/widget/blur_demo_page.dart'
    deferred as blur_demo_page;
import 'package:gsy_flutter_demo/widget/book_page/book_page.dart'
    deferred as book_page;
import 'package:gsy_flutter_demo/widget/bubble/bubble_demo_page.dart'
    deferred as bubble_demo_page;
import 'package:gsy_flutter_demo/widget/card_item_page.dart'
    deferred as card_item_page;
import 'package:gsy_flutter_demo/widget/clip_demo_page.dart'
    deferred as clip_demo_page;
import 'package:gsy_flutter_demo/widget/cloud/cloud_demo_page.dart'
    deferred as cloud_demo_page;
import 'package:gsy_flutter_demo/widget/controller_demo_page.dart'
    deferred as controller_demo_page;
import 'package:gsy_flutter_demo/widget/custom_multi_render_demo_page.dart'
    deferred as custom_multi_render_demo_page;
import 'package:gsy_flutter_demo/widget/custom_pull/refrsh_demo_page3.dart'
    deferred as refrsh_demo_page3;
import 'package:gsy_flutter_demo/widget/custom_sliver/scroll_header_demo_page.dart'
    deferred as scroll_header_demo_page;
import 'package:gsy_flutter_demo/widget/drop_select_menu/drop_select_demo_page.dart'
    deferred as drop_select_demo_page;
import 'package:gsy_flutter_demo/widget/floating_touch_demo_page.dart'
    deferred as floating_touch_demo_page;
import 'package:gsy_flutter_demo/widget/honor_demo_page.dart'
    deferred as honor_demo_page;
import 'package:gsy_flutter_demo/widget/input_bottom_demo_page.dart'
    deferred as input_bottom_demo_page;
import 'package:gsy_flutter_demo/widget/keyboard_demo_page.dart'
    deferred as keyboard_demo_page;
import 'package:gsy_flutter_demo/widget/list_anim/list_anim_demo_page.dart'
    deferred as list_anim_demo_page;
import 'package:gsy_flutter_demo/widget/list_anim_2/list_anim_demo_page.dart'
    deferred as list_anim_demo_page2;
import 'package:gsy_flutter_demo/widget/overflow_image_page.dart'
    deferred as overflow_image_page;
import 'package:gsy_flutter_demo/widget/particle/particle_page.dart'
    deferred as particle_page;
import 'package:gsy_flutter_demo/widget/positioned_demo_page.dart'
    deferred as positioned_demo_page;
import 'package:gsy_flutter_demo/widget/refrsh_demo_page.dart'
    deferred as refrsh_demo_page;
import 'package:gsy_flutter_demo/widget/refrsh_demo_page2.dart'
    deferred as refrsh_demo_page2;
import 'package:gsy_flutter_demo/widget/rich_text_demo_page.dart'
    deferred as rich_text_demo_page;
import 'package:gsy_flutter_demo/widget/scroll_listener_demo_page.dart'
    deferred as scroll_listener_demo_page;
import 'package:gsy_flutter_demo/widget/scroll_to_index_demo_page.dart'
    deferred as scroll_to_index_demo_page;
import 'package:gsy_flutter_demo/widget/scroll_to_index_demo_page2.dart'
    deferred as scroll_to_index_demo_page2;
import 'package:gsy_flutter_demo/widget/silder_verify_page.dart'
    deferred as silder_verify_page;
import 'package:gsy_flutter_demo/widget/sliver_list_demo_page.dart'
    deferred as sliver_list_demo_page;
import 'package:gsy_flutter_demo/widget/sliver_stick_demo_page.dart'
    deferred as sliver_stick_demo_page;
import 'package:gsy_flutter_demo/widget/sliver_tab_demo_page.dart'
    deferred as sliver_tab_demo_page;
import 'package:gsy_flutter_demo/widget/sliver_tab_demo_page2.dart'
    deferred as sliver_tab_demo_page2;
import 'package:gsy_flutter_demo/widget/sliver_tab/sliver_tab_demo_page3.dart'
    deferred as sliver_tab_demo_page3;
import 'package:gsy_flutter_demo/widget/statusbar_demo_page.dart'
    deferred as statusbar_demo_page;
import 'package:gsy_flutter_demo/widget/stick/stick_demo_page.dart'
    deferred as stick_demo_page;
import 'package:gsy_flutter_demo/widget/stick/stick_demo_page2.dart'
    deferred as stick_demo_page2;
import 'package:gsy_flutter_demo/widget/stick_sliver_list_demo_page.dart'
    deferred as stick_sliver_list_demo_page;
import 'package:gsy_flutter_demo/widget/tag_demo_page.dart'
    deferred as tag_demo_page;
import 'package:gsy_flutter_demo/widget/matrix_custom_painter_page.dart'
    deferred as matrix_custom_painter_page;
import 'package:gsy_flutter_demo/widget/text_line_height_demo_page.dart'
    deferred as text_line_height_demo_page;
import 'package:gsy_flutter_demo/widget/text_size_demo_page.dart'
    deferred as text_size_demo_page;
import 'package:gsy_flutter_demo/widget/tick_click_demo_page.dart'
    deferred as tick_click_demo_page;
import 'package:gsy_flutter_demo/widget/transform_demo_page.dart'
    deferred as transform_demo_page;
import 'package:gsy_flutter_demo/widget/verification_code_input_demo_page.dart'
    deferred as verification_code_input_demo_page;
import 'package:gsy_flutter_demo/widget/verification_code_input_demo_page2.dart'
    deferred as verification_code_input_demo_page2;
import 'package:gsy_flutter_demo/widget/viewpager_demo_page.dart'
    deferred as viewpager_demo_page;
import 'package:gsy_flutter_demo/widget/wrap_content_page.dart'
    deferred as wrap_content_page;
import 'package:window_location_href/window_location_href.dart';

void main() => runApp(MyApp());

class MyApp extends StatelessWidget {
  // This widget is the root of your application.
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'GSY Flutter Demo',
      theme: ThemeData(
        primarySwatch: Colors.blue,
      ),
      home: MyHomePage(title: 'GSY Flutter Demo'),
      routes: routers,
    );
  }
}

class MyHomePage extends StatefulWidget {
  MyHomePage({Key? key, this.title}) : super(key: key);

  final String? title;

  @override
  _MyHomePageState createState() => _MyHomePageState();
}

class _MyHomePageState extends State<MyHomePage> {
  @override
  void initState() {
    loadLibrary();
    super.initState();
    print("get enum value with 2.15 ${Cat.white.name}");
    print("get enum value with 2.15 ${Cat.values.byName("black")}");

    final href = getHref();
    int? index = href?.indexOf("#");
    if (href != null && index != null && index > 0) {
      String uri = href;
      String key = uri.substring(index + 1, uri.length);
      if (key.isNotEmpty && key.length > 3) {
        var result = Uri.decodeFull(key);
        if (routers.keys.contains(result) && result != "/") {
          Future(() {
            Navigator.pushNamed(context, result);
          });
        }
      }
    }
  }

  @override
  Widget build(BuildContext context) {
    var routeLists = routers.keys.toList();
    return Scaffold(
      appBar: AppBar(
        title: Text(widget.title!),
      ),
      body: new Container(
        child: new ListView.builder(
          itemBuilder: (context, index) {
            return new InkWell(
              onTap: () {
                Navigator.of(context).pushNamed(routeLists[index]);
              },
              child: new Card(
                child: new Container(
                  alignment: Alignment.centerLeft,
                  margin: EdgeInsets.symmetric(horizontal: 10),
                  height: 50,
                  child: new Text(routers.keys.toList()[index]),
                ),
              ),
            );
          },
          itemCount: routers.length,
        ),
      ), // This trailing comma makes auto-formatting nicer for build methods.
    );
  }
}

Map<String, WidgetBuilder> routers = {
  "文本输入框简单的 Controller": (context) {
    return new controller_demo_page.ControllerDemoPage();
  },
  "实现控件圆角不同组合": (context) {
    return new clip_demo_page.ClipDemoPage();
  },
  "列表滑动监听": (context) {
    return new scroll_listener_demo_page.ScrollListenerDemoPage();
  },
  "滑动到指定位置": (context) {
    return new scroll_to_index_demo_page.ScrollToIndexDemoPage();
  },
  "滑动到指定位置2": (context) {
    return new scroll_to_index_demo_page2.ScrollToIndexDemoPage2();
  },
  "展示渐变带边框的文本": (context) {
    return new gradient_text_demo_page.GradientTextDemoPage();
  },
  "Transform 效果展示": (context) {
    return new transform_demo_page.TransformDemoPage();
  },
  "计算另类文本行间距展示": (context) {
    return new text_line_height_demo_page.TextLineHeightDemoPage();
  },
  "简单上下刷新": (context) {
    return new refrsh_demo_page.RefreshDemoPage();
  },
  "简单上下刷新2": (context) {
    return new refrsh_demo_page2.RefreshDemoPage2();
  },
  "简单上下刷新3": (context) {
    return new refrsh_demo_page3.RefreshDemoPage3();
  },
  "通过绝对定位布局": (context) {
    return new positioned_demo_page.PositionedDemoPage();
  },
  "气泡提示框": (context) {
    return new bubble_demo_page.BubbleDemoPage();
  },
  "Tag效果展示": (context) {
    return new tag_demo_page.TagDemoPage();
  },
  "共享元素跳转效果": (context) {
    return new honor_demo_page.HonorDemoPage();
  },
  "滑动验证": (context) {
    return new silder_verify_page.SlideVerifyPage();
  },
  "warpContent实现": (context) {
    return new wrap_content_page.WrapContentPage();
  },
  "状态栏颜色修改（仅 App）": (context) {
    return new statusbar_demo_page.StatusBarDemoPage();
  },
  "键盘弹出与监听（仅 App）": (context) {
    return new keyboard_demo_page.KeyBoardDemoPage();
  },
  "控件动画组合展示（旋转加放大圆）": (context) {
    return new anima_demo_page.AnimaDemoPage();
  },
  "控件展开动画效果": (context) {
    return new anima_demo_page2.AnimaDemoPage2();
  },
  "全局悬浮按键效果": (context) {
    return new floating_touch_demo_page.FloatingTouchDemoPage();
  },
  "全局设置字体大小": (context) {
    return new text_size_demo_page.TextSizeDemoPage();
  },
  "旧版实现富文本": (context) {
    return new rich_text_demo_page.RichTextDemoPage();
  },
  "官方实现富文本": (context) {
    return new rich_text_demo_page2.RichTextDemoPage2();
  },
  "第三方 viewpager 封装实现": (context) {
    return new viewpager_demo_page.ViewPagerDemoPage();
  },
  "列表滑动过程控件停靠效果": (context) {
    return new sliver_list_demo_page.SliverListDemoPage();
  },
  "验证码输入框": (context) {
    return new verification_code_input_demo_page
        .VerificationCodeInputDemoPage();
  },
  "验证码输入框2": (context) {
    return new verification_code_input_demo_page2
        .VerificationCodeInputDemoPage2();
  },
  "自定义布局展示效果": (context) {
    return new custom_multi_render_demo_page.CustomMultiRenderDemoPage();
  },
  "自定义布局实现云词图展示": (context) {
    return new cloud_demo_page.CloudDemoPage();
  },
  "列表滑动停靠 （Stick）": (context) {
    return new stick_demo_page.StickDemoPage();
  },
  "列表滑动停靠 （Stick）+ 展开收回": (context) {
    return new stick_demo_page2.StickExpendDemoPage();
  },
  "列表滑动停靠效果2 （Stick": (context) {
    return new sliver_stick_demo_page.SliverStickListDemoPage();
  },
  "键盘顶起展示（仅 App）": (context) {
    return new input_bottom_demo_page.InputBottomDemoPage();
  },
  "Blur 高斯模糊效果": (context) {
    return new blur_demo_page.BlurDemoPage();
  },
  "控件动画变形效果": (context) {
    return new animation_container_demo_page.AnimationContainerDemoPage();
  },
  "时钟动画绘制展示": (context) {
    return new tick_click_demo_page.TickClickDemoPage();
  },
  "按键切换动画效果": (context) {
    return new anima_demo_page4.AnimaDemoPage4();
  },
  "列表滑动过程 item 停靠动画效果": (context) {
    return new list_anim_demo_page.ListAnimDemoPage();
  },
  "列表滑动过程 item 停靠动画效果2": (context) {
    return new list_anim_demo_page2.ListAnimDemoPage2();
  },
  "下弹筛选展示效果": (context) {
    return new drop_select_demo_page.DropSelectDemoPage();
  },
  "文本弹出动画效果": (context) {
    return new anima_demo_page5.AnimaDemoPage5();
  },
  "强大的自定义滑动与停靠结合展示": (context) {
    return new scroll_header_demo_page.ScrollHeaderDemoPage();
  },
  "点击弹出动画提示": (context) {
    return new anim_tip_demo_page.AnimTipDemoPage();
  },
  "列表停靠展开+回到当前头部": (context) {
    return new stick_sliver_list_demo_page.StickSliverListDemoPage();
  },
  "使用 overflow 处理图片": (context) {
    return new overflow_image_page.OverflowImagePage();
  },
  "展示 Align 排布控件": (context) {
    return new align_demo_page.AlignDemoPage();
  },
  "通过不同尺寸计算方式展示比例": (context) {
    return new card_item_page.CardItemPage();
  },
  "多列表+顶部Tab效果展示": (context) {
    return new sliver_tab_demo_page.SliverTabDemoPage();
  },
  "多列表+顶部Tab效果展示2": (context) {
    return new sliver_tab_demo_page2.SliverTabDemoPage2();
  },
  "多列表+顶部Tab效果展示3": (context) {
    return new sliver_tab_demo_page3.SliverTabDemoPage3();
  },
  "仿真书本翻页动画（仅APP）": (context) {
    return new book_page.BookPage();
  },
  "粒子动画效果": (context) {
    return new particle_page.ParticlePage();
  },
  "动画背景效果": (context) {
    return new anim_bg_demo_page.AnimBgDemoPage();
  },
  "手势效果": (context) {
    return new matrix_custom_painter_page.MatrixCustomPainterDemo();
  },
  "一个有趣的底部跟随和停靠例子": (context) {
    return new scroll_inner_content_demo_page.ScrollInnerContentDemoPage();
  },
  "一个有趣的圆形选择器": (context) {
    return new bottom_anim_nav_page.BottomAnimNavPage();
  },
  "一个类似探探堆叠卡片例子": (context) {
    return new index_stack_drag_card_demo_page.IndexStackDragCardDemoPage();
  },
  "一个类似探探堆叠卡片例子2": (context) {
    return new index_stack_drag_card_demo_page2.IndexStackDragCardDemoPage2();
  },
  "动画按键例子": (context) {
    return new anim_button_demo_page.AnimButtonDemoPage();
  },
  "类似QQ发送图片的动画": (context) {
    return new anim_progress_img_demo_page.AnimProgressImgDemoPage();
  },
  "类似探探扫描的动画效果": (context) {
    return new anim_scan_demo_page.AnimScanDemoPage();
  },
  "圆弧形的 SeekBar（仅APP）": (context) {
    return new arc_seek_bar_demo_page.ArcSeekBarDemoPage();
  },
  "一个国外友人很惊艳的动画效果": (context) {
    return new anim_bubble_gum.AnimBubbleGumDemoPage();
  },
  "纯 Canvas 绘制闹钟": (context) {
    return new canvas_click_demo_page.CanvasClickDemoPage();
  },
  "类似 boss 直聘我的页面联动效果": (context) {
    return new link_sliver_demo_page.LinkSliverDemoPage();
  },
  "结合 Matrix 的拖拽": (context) {
    return new drag_img_demo_page.DragImgDemoPage();
  },
  "彩色进度条": (context) {
    return new color_progress_demo_page.ColorProgressDemoPage();
  },
  "第三方的动画字体": (context) {
    return new anim_text_demo_page.AnimTextDemoPage();
  },
  "首尾添加数据不会抖动": (context) {
    return new chat_list_scroll_demo_page.ChatListScrollDemoPage();
  },
  "首尾添加数据不会抖动2": (context) {
    return new chat_list_scroll_demo_page_2.ChatListScrollDemoPage2();
  },
  "测试路由嵌套": (context) {
    return new route_demo_page.RouteDemoPage();
  },
};

enum Cat { black, white }

///低版本才需要这个，2.15 之后可以直接使用 .name 和  .values.byName
extension CatExtension on Cat {
  // String? get name {
  //   switch (this) {
  //     case Cat.black:
  //       return 'Mr Black Cat';
  //     case Cat.white:
  //       return 'Ms White Cat';
  //     default:
  //       return null;
  //   }
  // }

  void talk() {
    print('meow');
  }
}

loadLibrary() {
  controller_demo_page.loadLibrary();

  anim_bubble_gum.loadLibrary();
  anim_button_demo_page.loadLibrary();
  anim_progress_img_demo_page.loadLibrary();
  anim_scan_demo_page.loadLibrary();
  anim_text_demo_page.loadLibrary();
  arc_seek_bar_demo_page.loadLibrary();
  bottom_anim_nav_page.loadLibrary();
  canvas_click_demo_page.loadLibrary();
  chat_list_scroll_demo_page.loadLibrary();
  chat_list_scroll_demo_page_2.loadLibrary();
  color_progress_demo_page.loadLibrary();
  drag_img_demo_page.loadLibrary();
  gradient_text_demo_page.loadLibrary();
  index_stack_drag_card_demo_page.loadLibrary();
  index_stack_drag_card_demo_page2.loadLibrary();
  link_sliver_demo_page.loadLibrary();
  rich_text_demo_page2.loadLibrary();
  route_demo_page.loadLibrary();
  scroll_inner_content_demo_page.loadLibrary();
  align_demo_page.loadLibrary();
  anim_bg_demo_page.loadLibrary();
  anim_tip_demo_page.loadLibrary();
  anima_demo_page.loadLibrary();
  anima_demo_page2.loadLibrary();
  anima_demo_page4.loadLibrary();
  anima_demo_page5.loadLibrary();
  animation_container_demo_page.loadLibrary();
  blur_demo_page.loadLibrary();
  book_page.loadLibrary();
  bubble_demo_page.loadLibrary();
  card_item_page.loadLibrary();
  clip_demo_page.loadLibrary();
  cloud_demo_page.loadLibrary();
  controller_demo_page.loadLibrary();
  custom_multi_render_demo_page.loadLibrary();
  refrsh_demo_page3.loadLibrary();
  scroll_header_demo_page.loadLibrary();
  drop_select_demo_page.loadLibrary();
  floating_touch_demo_page.loadLibrary();
  honor_demo_page.loadLibrary();
  input_bottom_demo_page.loadLibrary();
  keyboard_demo_page.loadLibrary();
  list_anim_demo_page.loadLibrary();
  list_anim_demo_page.loadLibrary();
  overflow_image_page.loadLibrary();
  particle_page.loadLibrary();
  positioned_demo_page.loadLibrary();
  refrsh_demo_page.loadLibrary();
  refrsh_demo_page2.loadLibrary();
  rich_text_demo_page.loadLibrary();
  scroll_listener_demo_page.loadLibrary();
  scroll_to_index_demo_page.loadLibrary();
  scroll_to_index_demo_page2.loadLibrary();
  silder_verify_page.loadLibrary();
  sliver_list_demo_page.loadLibrary();
  sliver_stick_demo_page.loadLibrary();
  sliver_tab_demo_page.loadLibrary();
  sliver_tab_demo_page2.loadLibrary();
  sliver_tab_demo_page3.loadLibrary();
  statusbar_demo_page.loadLibrary();
  stick_demo_page.loadLibrary();
  stick_demo_page2.loadLibrary();
  stick_sliver_list_demo_page.loadLibrary();
  tag_demo_page.loadLibrary();
  matrix_custom_painter_page.loadLibrary();
  text_line_height_demo_page.loadLibrary();
  text_size_demo_page.loadLibrary();
  tick_click_demo_page.loadLibrary();
  transform_demo_page.loadLibrary();
  verification_code_input_demo_page.loadLibrary();
  verification_code_input_demo_page2.loadLibrary();
  viewpager_demo_page.loadLibrary();
  wrap_content_page.loadLibrary();
}
